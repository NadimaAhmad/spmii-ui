<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description"
    content="Slicing UI aplikasi LPMII UPI YPTK: tampilan dashboard, navigasi, dan modul mutu kampus berbasis Bootstrap untuk pengalaman pengguna yang modern dan responsif.">
  <meta property="og:image" content="https://www.upiyptk.ac.id/imagefile/icon/upiyptk">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
  
  <link rel="stylesheet" href="../style.css">

  <title>Indikator Mutu - UI LPMII</title>

  <style>
    p {
      padding: 0;
      margin: 0;
    }
    .btn-hover:hover {
      background-color: #fff89d;
      font-weight: bolder;
    }
    .table {
      font-size: 0.9rem;
    }
    .table th {
      font-weight: 600;
      color: #6c757d;
    }
    .status-badge {
      padding: 0.3em 0.8em;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 500;
    }
    .status-terjadwal { background-color: #cff4fc; color: #055160; }
    .status-selesai { background-color: #d1e7dd; color: #0f5132; }
    .status-ditunda { background-color: #fff3cd; color: #664d03; }
    
    .action-icon {
      width: 32px;
      height: 32px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border: 1px solid #dee2e6;
      border-radius: 50%;
      color: #495057;
      margin: 0 2px;
      cursor: pointer;
      transition: background-color 0.2s;
    }
    .action-icon:hover { background-color: #f1f3f5; }
    .action-icon.view { background-color: #e9ecef; }
    .action-icon.edit { background-color: #fff3cd; }
    .action-icon.delete { background-color: #f8d7da; }
    
    .nav-tabs {
      border-bottom: 1px solid #dee2e6;
    }
    .nav-tabs .nav-link {
      color: #6c757d;
      border: none;
      border-bottom: 3px solid transparent;
      margin-bottom: -1px;
    }
    .nav-tabs .nav-link.active,
    .nav-tabs .nav-item.show .nav-link {
      color: #000;
      font-weight: 600;
      background-color: transparent;
      border-bottom: 3px solid #ffc107;
    }

    .filter-box {
        background-color: #f8f9fa;
        border: 1px solid #e9ecef;
    }
    .chart-wrapper {
        width: 100%;
        height: 360px;
    }
    #monthlyChart {
        width: 100% !important;
        height: 100% !important;
    }
  </style>
</head>

<body class="bg-body-tertiary jkt-font">

  <div class="container-fluid position-relative p-0 m-0">
    <div class="row g-0">
      <nav class="navbar navbar-light bg-white shadow-sm fixed-top d-lg-none">
        <div class="container-fluid">
          <button class="btn btn-outline-dark" type="button" data-bs-toggle="offcanvas"
            data-bs-target="#sidebarOffcanvas">
            <i class="bi bi-list"></i>
          </button>
          <span class="navbar-brand ms-2">SPMII</span>
        </div>
      </nav>

      <div class="d-none d-lg-block position-fixed h-100 bg-white shadow-sm p-3" style="width: 250px;" id="sidebar">
        <div class="mb-4 text-center">
          <img src="../logo.png" height="50" alt="Logo">
        </div>

          <nav class="nav flex-column">
                    <a href="../index.html" class="nav-link pkecil btn-hover ms-2 btn d-flex align-items-center gap-2 text-muted">
                        <i class="bi bi-speedometer2"></i> Dashboard
                    </a>
                    <a href="../notifikasi/index.html"
                        class="nav-link pkecil btn-hover ms-2 btn  d-flex align-items-center gap-2 text-dark">
                        <i class="bi bi-bell-fill"></i> Notifikasi
                    </a>
                </nav>


        <hr>

       <div class="mt-3">
          <small class="fw-bold text-uppercase text-muted px-2">Modul SPMII</small>
          <nav class="nav flex-column mt-2">
            <a href="../dokumen-mutu/index.html"
              class="nav-link pkecil btn-hover ms-2  d-flex align-items-center gap-2 text-dark">
              <i class="bi bi-folder2-open"></i> Dokumen Mutu
            </a>
            <a href="../indikator-mutu/index.html" class="nav-link btn btn-warning active pkecil btn-hover ms-2 btn d-flex align-items-center gap-2 text-muted">
              <i class="bi bi-graph-up"></i> Indikator Mutu
            </a>
            <a href="../monitoring-mutu/index.html" class="nav-link pkecil btn-hover ms-2 btn d-flex align-items-center gap-2 text-muted">
              <i class="bi bi-search"></i> Monitoring & Evaluasi
            </a>
            <a href="../audit-mutu/index.html" class="nav-link pkecil btn-hover ms-2 btn d-flex align-items-center gap-2 text-muted">
              <i class="bi bi-shield-check"></i> Audit Mutu
            </a>
            <a href="../survey-mutu/index.html" class="nav-link pkecil btn-hover ms-2 btn d-flex align-items-center gap-2 text-muted">
              <i class="bi bi-calendar-event"></i> Survey Mutu
            </a>
            <a href="../akreditasi-mutu/index.html" class="nav-link pkecil btn-hover ms-2 btn d-flex align-items-center gap-2 text-muted">
              <i class="bi bi-award"></i> Akreditasi
            </a>
          </nav>
        </div>

        <hr>

        <div class="mt-3">
          <small class="fw-bold text-uppercase text-muted px-2">Pengaturan Sistem</small>
          <nav class="nav flex-column mt-2">
            <a href="../manajemen-pengguna/index.html" class="nav-link pkecil btn-hover ms-2 btn d-flex align-items-center gap-2 text-muted">
              <i class="bi bi-people"></i> Manajemen Pengguna
            </a>
            <a href="#" class="nav-link pkecil btn-hover ms-2 btn d-flex align-items-center gap-2 text-muted">
              <i class="bi bi-diagram-3"></i> Integrasi Sistem
            </a>
            <a href="#" class="nav-link pkecil btn-hover ms-2 btn d-flex align-items-center gap-2 text-muted">
              <i class="bi bi-gear-fill"></i> Pengaturan Akun
            </a>
          </nav>
        </div>

        <div class="position-absolute bottom-0 ms-3 start-0 w-100 p-3">
          <a href="#" class="nav-link pkecil btn-hover ms-2 btn d-flex align-items-center gap-2 text-muted">
            <i class="bi bi-question-circle"></i> Pusat Bantuan
          </a>
          <a href="#" class="nav-link pkecil btn-hover ms-2 mt-2 btn d-flex align-items-center gap-2 text-danger">
            <i class="bi bi-box-arrow-right"></i> Keluar
          </a>
        </div>
      </div>

      <div class="offcanvas offcanvas-start" tabindex="-1" id="sidebarOffcanvas">
      </div>

      <div class="col-lg-2 col-md-3 col-2 d-lg-block d-none"></div>
      <div class="col ps-lg-5 pe-lg-5">
        <div class=" px-3 d-flex flex-row  align-items-center justify-content-between mt-3">
          <input type="text" class="form-control w-50 shadow-sm" placeholder="Cari...">
          <div class="d-flex gap-2">
            <div class="bg-white px-3 py-2 shadow-sm rounded-3">
              <i class="bi bi-bell fs-4"></i>
            </div>
            <div class="bg-white px-3 py-2 shadow-sm  rounded-3" style="width: 250px;">
              <div class="d-flex justify-content-between align-items-center">
                <div class="d-flex gap-2">
                  <img src="https://i.pinimg.com/736x/eb/76/a4/eb76a46ab920d056b02d203ca95e9a22.jpg" width="40px"
                    class="rounded-2 me-2" alt="">
                  <div class="">
                    <p class="p pkecil fw-bold">Fadel Muhammad</p>
                    <p class="pkecil text-muted" style="margin-top: -3px;">Staf LPMI</p>
                  </div>
                </div>
                <i class="bi bi-chevron-down"></i>
              </div>
            </div>
          </div>
        </div>

        <div class="container-fluid mt-3" id="indikatorMutuContent">
            <div class="banner py-4 mb-3">
                <h2 class="fw-bold">Indikator Mutu</h2>
                <p class="text-muted">Kelola target dan capaian mutu berkelanjutan.</p>
            </div>

            <div class="bg-white p-4 rounded-4 shadow-sm">
                <ul class="nav nav-tabs mb-4" id="indikatorTab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="master-tab" data-bs-toggle="tab" data-bs-target="#master-pane" type="button" role="tab">Master Indikator</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="renstra-tab" data-bs-toggle="tab" data-bs-target="#renstra-pane" type="button" role="tab">RENSTRA</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="rkt-tab" data-bs-toggle="tab" data-bs-target="#rkt-pane" type="button" role="tab">RKT</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="capaian-tab" data-bs-toggle="tab" data-bs-target="#capaian-pane" type="button" role="tab">Capaian</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="gap-tab" data-bs-toggle="tab" data-bs-target="#gap-pane" type="button" role="tab">Gap Analisis</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="tren-tab" data-bs-toggle="tab" data-bs-target="#tren-pane" type="button" role="tab">Grafik Tren</button>
                    </li>
                </ul>

                <div class="tab-content" id="indikatorTabContent">
                    <div class="tab-pane fade show active" id="master-pane" role="tabpanel">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <div class="d-flex gap-2">
                                <div class="input-group" style="width: 300px;">
                                  <input type="text" class="form-control" placeholder="Ketik Kata Kunci...">
                                  <button class="btn btn-outline-secondary" type="button"><i class="bi bi-search"></i></button>
                                </div>
                                <button class="btn btn-outline-secondary"><i class="bi bi-funnel"></i></button>
                            </div>
                            <div class="d-flex gap-2">
                                <button class="btn btn-warning">Button <i class="bi bi-chevron-down"></i></button>
                                <button class="btn btn-warning">Button <i class="bi bi-chevron-down"></i></button>
                                <button class="btn btn-warning">Button <i class="bi bi-chevron-down"></i></button>
                            </div>
                        </div>
                        <div class="table-responsive">
                            <table class="table table-hover align-middle">
                              <thead class="table-light">
                                <tr>
                                  <th scope="col" style="width: 5%;"><input class="form-check-input" type="checkbox"></th>
                                  <th scope="col">Kode Audit</th>
                                  <th scope="col">Tanggal Audit</th>
                                  <th scope="col">Unit yang Diaudit</th>
                                  <th scope="col">Auditor Utama</th>
                                  <th scope="col">Status</th>
                                  <th scope="col" class="text-center">Aksi</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr>
                                  <td><input class="form-check-input" type="checkbox"></td>
                                  <td>AUD-001</td>
                                  <td>7 Des 2025</td>
                                  <td>Fakultas Ilmu Komputer</td>
                                  <td>Budi Santoso</td>
                                  <td><span class="status-badge status-terjadwal">Terjadwal</span></td>
                                  <td class="text-center">
                                    <span class="action-icon view"><i class="bi bi-eye-fill text-primary"></i></span>
                                    <span class="action-icon edit"><i class="bi bi-pencil-fill text-warning"></i></span>
                                    <span class="action-icon delete"><i class="bi bi-trash-fill text-danger"></i></span>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="tab-pane fade" id="tren-pane" role="tabpanel">
                        <div class="filter-box p-3 rounded-3 d-flex gap-2 justify-content-center mb-4">
                            <select class="form-select" style="width: 150px;">
                                <option selected>Tahun</option>
                                <option>2025</option>
                                <option>2024</option>
                            </select>
                            <select class="form-select" style="width: 200px;">
                                <option selected>Unit</option>
                            </select>
                            <select class="form-select" style="width: 200px;">
                                <option selected>Indikator Mutu</option>
                            </select>
                            <select class="form-select" style="width: 150px;">
                                <option selected>Grafik</option>
                            </select>
                            <button class="btn btn-warning">Button <i class="bi bi-tag"></i></button>
                        </div>
                        <div class="chart-wrapper">
                           <canvas id="monthlyChart"></canvas>
                        </div>
                        <div class="mt-4">
                            <div class="placeholder-glow mb-2">
                                <span class="placeholder col-3"></span>
                            </div>
                            <div class="placeholder-glow mb-2">
                                <span class="placeholder col-5"></span>
                            </div>
                            <div class="placeholder-glow mb-2">
                                <span class="placeholder col-4"></span>
                            </div>
                            <div class="placeholder-glow">
                                <span class="placeholder col-8"></span>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="renstra-pane" role="tabpanel"><p>Konten untuk RENSTRA akan ditampilkan di sini.</p></div>
                    <div class="tab-pane fade" id="rkt-pane" role="tabpanel"><p>Konten untuk RKT akan ditampilkan di sini.</p></div>
                    <div class="tab-pane fade" id="capaian-pane" role="tabpanel"><p>Konten untuk Capaian akan ditampilkan di sini.</p></div>
                    <div class="tab-pane fade" id="gap-pane" role="tabpanel"><p>Konten untuk Gap Analisis akan ditampilkan di sini.</p></div>
                </div>
            </div>
        </div>
      </div>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-G/EV+4j2dNv+tEPo3++6LCgdCROaejBqfUeNjuKAiuXbjrxilcCdDz6ZAVfHWe1Y"
    crossorigin="anonymous"></script>
    
  <script>
    const trenTab = document.querySelector('#tren-tab');
    let chartInstance = null; 

    const createChart = () => {
        const canvas = document.getElementById("monthlyChart");
        if (!canvas) return; 
        
        if(chartInstance) {
            chartInstance.destroy();
        }

        const ctx = canvas.getContext("2d");
        const months = ["Jan", "Feb", "Mar", "Apr", "Mei", "Jun", "Jul", "Agu", "Sep", "Okt", "Nov", "Des"];
        const values = [38, 46, 32, 52, 68, 70, 59, 72, 82, 62, 44, 60];
        
        const config = {
            type: 'bar',
            data: {
              labels: months,
              datasets: [{
                data: values,
                borderWidth: 0,
                borderSkipped: false,
                borderRadius: 0,
                backgroundColor: (context) => {
                  const { chart } = context;
                  const { ctx, chartArea } = chart;
                  if (!chartArea) return null;
                  const gradient = ctx.createLinearGradient(0, chartArea.top, 0, chartArea.bottom);
                  gradient.addColorStop(0, 'rgba(250, 204, 21, 1)');
                  gradient.addColorStop(1, 'rgba(250, 204, 21, 0.05)');
                  return gradient;
                }
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              plugins: {
                legend: { display: false },
                tooltip: {
                  enabled: true,
                  callbacks: {
                    title: (items) => `${months[items[0].dataIndex]} 2025`,
                    label: (item) => `${values[item.dataIndex]}%`,
                    afterLabel: (item) => {
                        if (item.dataIndex === 6) {
                            return '-23%';
                        }
                        return '';
                    }
                  }
                }
              },
              scales: {
                x: {
                  grid: { display: false, drawBorder: false },
                  ticks: { color: "#666", padding: 10 }
                },
                y: {
                  beginAtZero: true,
                  max: 100,
                  ticks: { stepSize: 20, color: "#aaa" },
                  grid: { color: "rgba(200,200,200,0.15)", borderDash: [4, 4] }
                }
              },
              barPercentage: 1.0,
              categoryPercentage: 1.0
            },
            plugins: [{
              id: "topBorder",
              afterDatasetDraw(chart, args, opts) {
                const { ctx } = chart;
                const meta = chart.getDatasetMeta(0);
                ctx.save();
                ctx.lineWidth = 3;
                ctx.strokeStyle = "#facc15";
                meta.data.forEach(bar => {
                  const { x, y } = bar;
                  const left = x - bar.width / 2;
                  const right = x + bar.width / 2;
                  ctx.beginPath();
                  ctx.moveTo(left, y);
                  ctx.lineTo(right, y);
                  ctx.stroke();
                });
                ctx.restore();
              }
            },
            { 
              id: 'julyDot',
              afterDatasetDraw(chart, args, opts) {
                  const {ctx} = chart;
                  const meta = chart.getDatasetMeta(0);
                  const julyBar = meta.data[6]; 
                  if(julyBar) {
                      ctx.save();
                      ctx.fillStyle = '#f59e0b';
                      ctx.beginPath();
                      ctx.arc(julyBar.x, julyBar.y, 5, 0, 2 * Math.PI);
                      ctx.fill();
                      ctx.restore();
                  }
              }
            }]
        };

        chartInstance = new Chart(ctx, config);
    };
    
    if(trenTab) {
        trenTab.addEventListener('shown.bs.tab', event => {
            createChart();
        });
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>